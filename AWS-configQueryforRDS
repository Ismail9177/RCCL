SELECT
  resourceId,
  resourceName,
  resourceType,
  awsRegion,
  availabilityZone,
  configuration.dBInstanceIdentifier,
  configuration.dBInstanceClass,
  configuration.engine,
  configuration.engineVersion,
  configuration.dBName,
  configuration.dBInstanceStatus,
  configuration.masterUsername,
  configuration.allocatedStorage,
  configuration.storageType,
  configuration.storageEncrypted,
  configuration.kmsKeyId,
  configuration.endpoint.address,
  configuration.endpoint.port,
  configuration.endpoint.hostedZoneId,
  configuration.multiAZ,
  configuration.publiclyAccessible,
  configuration.backupRetentionPeriod,
  configuration.preferredBackupWindow,
  configuration.preferredMaintenanceWindow,
  configuration.dBSubnetGroup.dBSubnetGroupName,
  configuration.vpcSecurityGroups,
  configuration.dBParameterGroups,
  configuration.optionGroupMemberships,
  configuration.licenseModel,
  configuration.iAMDatabaseAuthenticationEnabled,
  configuration.readReplicaDBInstanceIdentifiers,
  configuration.readReplicaSourceDBInstanceIdentifier,
  configuration.autoMinorVersionUpgrade,
  configuration.copyTagsToSnapshot,
  configuration.deletionProtection,
  configuration.performanceInsightsEnabled,
  configuration.performanceInsightsKMSKeyId,
  configuration.performanceInsightsRetentionPeriod,
  configuration.availabilityZone,
  configuration.latestRestorableTime,
  configuration.instanceCreateTime,
  configuration.preferredBackupWindow,
  configuration.backupRetentionPeriod,
  configurationItemCaptureTime,
  configurationItemStatus
WHERE
  resourceType = 'AWS::RDS::DBInstance'
  AND configurationItemStatus IN ('OK', 'ResourceDiscovered')
ORDER BY
  configurationItemCaptureTime DESC
